{"ast":null,"code":"export default function Element(arg0, arg1) {\n  this.ns = null;\n  this.name = null;\n  this.attr = {};\n  this.style = {};\n  this.children = [];\n\n  switch (arguments.length) {\n    case 1:\n      this.name = arg0;\n      break;\n\n    case 2:\n      this.ns = arg0;\n      this.name = arg1;\n      break;\n\n    default:\n      break;\n  }\n}\n;\n\nElement.prototype.setAttribute = function (key, value) {\n  this.attr[key] = value;\n};\n\nElement.prototype.appendChild = function (child) {\n  this.children[this.children.length] = child;\n};\n\nElement.prototype.create = function (ie8mode) {\n  var result = null,\n      name,\n      child,\n      index;\n\n  if (this.ns !== null) {\n    result = document.createElementNS(this.ns, this.name);\n  } else {\n    result = document.createElement(this.name);\n  }\n\n  for (name in this.attr) {\n    if (this.attr.hasOwnProperty(name)) {\n      if (ie8mode !== undefined) {\n        result[name] = this.attr[name];\n      } else {\n        result.setAttribute(name, this.attr[name]);\n      }\n    }\n  }\n\n  for (name in this.style) {\n    if (this.style.hasOwnProperty(name)) {\n      result.style[name] = this.style[name];\n    }\n  }\n\n  for (index = 0; index < this.children.length; index += 1) {\n    child = this.children[index];\n\n    if (typeof child === \"string\") {\n      result.appendChild(document.createTextNode(child));\n    } else {\n      result.appendChild(child.create(ie8mode));\n    }\n  }\n\n  return result;\n};\n\nElement.prototype.update = function (target, ie8mode) {\n  var name, length, index, child, value;\n\n  for (name in this.style) {\n    if (this.style.hasOwnProperty(name)) {\n      value = this.style[name];\n\n      if (target.style[name] !== value) {\n        target.style[name] = value;\n      }\n    }\n  }\n\n  for (name in this.attr) {\n    if (this.attr.hasOwnProperty(name)) {\n      value = this.attr[name];\n\n      if (ie8mode !== undefined) {\n        /* if you see exception here, it may be result of following situation: \n          You made changes in Polyline graphics primitive and added extra sub nodes to it, so number and type of children for shape \n          have been changed, so sub nodes mismatch is a reason for this exception.\n        */\n        if (target[name] !== value) {\n          target[name] = value;\n        }\n      } else {\n        if (target.getAttribute(name) !== value) {\n          target.setAttribute(name, value);\n        }\n      }\n    }\n  }\n\n  length = this.children.length;\n\n  for (index = 0; index < length; index += 1) {\n    child = this.children[index];\n\n    if (typeof child === \"string\") {\n      if (target.innerHtml !== child) {\n        target.innerHtml = child;\n      }\n    } else {\n      this.children[index].update(target.children[index], ie8mode);\n    }\n  }\n};","map":{"version":3,"sources":["/Users/01005901/go/src/github.com/Resily/react/node_modules/basicprimitives/src/graphics/Element.js"],"names":["Element","arg0","arg1","ns","name","attr","style","children","arguments","length","prototype","setAttribute","key","value","appendChild","child","create","ie8mode","result","index","document","createElementNS","createElement","hasOwnProperty","undefined","createTextNode","update","target","getAttribute","innerHtml"],"mappings":"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","sourcesContent":["export default function Element(arg0, arg1) {\n  this.ns = null;\n  this.name = null;\n  this.attr = {};\n  this.style = {};\n\n  this.children = [];\n\n  switch (arguments.length) {\n    case 1:\n      this.name = arg0;\n      break;\n    case 2:\n      this.ns = arg0;\n      this.name = arg1;\n      break;\n    default:\n      break;\n  }\n};\n\nElement.prototype.setAttribute = function (key, value) {\n  this.attr[key] = value;\n};\n\nElement.prototype.appendChild = function (child) {\n  this.children[this.children.length] = child;\n};\n\nElement.prototype.create = function (ie8mode) {\n  var result = null,\n    name,\n    child,\n    index;\n  if (this.ns !== null) {\n    result = document.createElementNS(this.ns, this.name);\n  }\n  else {\n    result = document.createElement(this.name);\n  }\n  for (name in this.attr) {\n    if (this.attr.hasOwnProperty(name)) {\n      if (ie8mode !== undefined) {\n        result[name] = this.attr[name];\n      }\n      else {\n        result.setAttribute(name, this.attr[name]);\n      }\n    }\n  }\n  for (name in this.style) {\n    if (this.style.hasOwnProperty(name)) {\n      result.style[name] = this.style[name];\n    }\n  }\n  for (index = 0; index < this.children.length; index += 1) {\n    child = this.children[index];\n    if (typeof child === \"string\") {\n      result.appendChild(document.createTextNode(child));\n    }\n    else {\n      result.appendChild(child.create(ie8mode));\n    }\n  }\n  return result;\n};\n\nElement.prototype.update = function (target, ie8mode) {\n  var name,\n    length,\n    index,\n    child,\n    value;\n  for (name in this.style) {\n    if (this.style.hasOwnProperty(name)) {\n      value = this.style[name];\n      if (target.style[name] !== value) {\n        target.style[name] = value;\n      }\n    }\n  }\n  for (name in this.attr) {\n    if (this.attr.hasOwnProperty(name)) {\n      value = this.attr[name];\n      if (ie8mode !== undefined) {\n        /* if you see exception here, it may be result of following situation: \n          You made changes in Polyline graphics primitive and added extra sub nodes to it, so number and type of children for shape \n          have been changed, so sub nodes mismatch is a reason for this exception.\n        */\n        if (target[name] !== value) {\n          target[name] = value;\n        }\n      }\n      else {\n        if (target.getAttribute(name) !== value) {\n          target.setAttribute(name, value);\n        }\n      }\n    }\n  }\n  length = this.children.length;\n  for (index = 0; index < length; index += 1) {\n    child = this.children[index];\n    if (typeof child === \"string\") {\n      if (target.innerHtml !== child) {\n        target.innerHtml = child;\n      }\n    }\n    else {\n      this.children[index].update(target.children[index], ie8mode);\n    }\n  }\n};"]},"metadata":{},"sourceType":"module"}