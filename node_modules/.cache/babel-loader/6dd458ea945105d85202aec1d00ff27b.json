{"ast":null,"code":"import ArrayReader from '../../readers/ArrayReader';\nimport ValueReader from '../../readers/ValueReader';\nimport ObjectReader from '../../readers/ObjectReader';\nexport default function FamItemsOptionTask(optionsTask, defaultItemConfig) {\n  var _data = {},\n      _hash = {},\n      _sourceHash = {};\n\n  var _dataTemplate = new ObjectReader({\n    items: new ArrayReader(new ObjectReader({\n      id: new ValueReader([\"string\", \"number\"], true),\n      parents: new ArrayReader(new ValueReader([\"string\", \"number\"], true), true),\n      isActive: new ValueReader([\"boolean\"], false, defaultItemConfig.isActive)\n    }), true, \"id\", true)\n  });\n\n  function process() {\n    var context = {\n      isChanged: false,\n      hash: _hash,\n      sourceHash: _sourceHash\n    };\n    _data = _dataTemplate.read(_data, optionsTask.getOptions(), \"options\", context);\n    return context.isChanged;\n  }\n\n  function getItems() {\n    return _data.items;\n  }\n\n  function getConfig(itemId) {\n    return _sourceHash[\"options-items\"][itemId];\n  }\n\n  return {\n    process: process,\n    getItems: getItems,\n    getConfig: getConfig\n  };\n}\n;","map":{"version":3,"sources":["/Users/01005901/go/src/github.com/Resily/react/node_modules/basicprimitives/src/tasks/options/FamItemsOptionTask.js"],"names":["ArrayReader","ValueReader","ObjectReader","FamItemsOptionTask","optionsTask","defaultItemConfig","_data","_hash","_sourceHash","_dataTemplate","items","id","parents","isActive","process","context","isChanged","hash","sourceHash","read","getOptions","getItems","getConfig","itemId"],"mappings":"AAAA,OAAOA,WAAP,MAAwB,2BAAxB;AACA,OAAOC,WAAP,MAAwB,2BAAxB;AACA,OAAOC,YAAP,MAAyB,4BAAzB;AAEA,eAAe,SAASC,kBAAT,CAA4BC,WAA5B,EAAyCC,iBAAzC,EAA4D;AACzE,MAAIC,KAAK,GAAG,EAAZ;AAAA,MACEC,KAAK,GAAG,EADV;AAAA,MAEEC,WAAW,GAAG,EAFhB;;AAIA,MAAIC,aAAa,GAAG,IAAIP,YAAJ,CAAiB;AACnCQ,IAAAA,KAAK,EAAE,IAAIV,WAAJ,CACL,IAAIE,YAAJ,CAAiB;AACfS,MAAAA,EAAE,EAAE,IAAIV,WAAJ,CAAgB,CAAC,QAAD,EAAW,QAAX,CAAhB,EAAsC,IAAtC,CADW;AAEfW,MAAAA,OAAO,EAAE,IAAIZ,WAAJ,CACP,IAAIC,WAAJ,CAAgB,CAAC,QAAD,EAAW,QAAX,CAAhB,EAAsC,IAAtC,CADO,EAEP,IAFO,CAFM;AAMfY,MAAAA,QAAQ,EAAE,IAAIZ,WAAJ,CAAgB,CAAC,SAAD,CAAhB,EAA6B,KAA7B,EAAoCI,iBAAiB,CAACQ,QAAtD;AANK,KAAjB,CADK,EASL,IATK,EAUL,IAVK,EAWL,IAXK;AAD4B,GAAjB,CAApB;;AAgBA,WAASC,OAAT,GAAmB;AACjB,QAAIC,OAAO,GAAG;AACZC,MAAAA,SAAS,EAAE,KADC;AAEZC,MAAAA,IAAI,EAAEV,KAFM;AAGZW,MAAAA,UAAU,EAAEV;AAHA,KAAd;AAMAF,IAAAA,KAAK,GAAGG,aAAa,CAACU,IAAd,CAAmBb,KAAnB,EAA0BF,WAAW,CAACgB,UAAZ,EAA1B,EAAoD,SAApD,EAA+DL,OAA/D,CAAR;AAEA,WAAOA,OAAO,CAACC,SAAf;AACD;;AAED,WAASK,QAAT,GAAoB;AAClB,WAAOf,KAAK,CAACI,KAAb;AACD;;AAED,WAASY,SAAT,CAAmBC,MAAnB,EAA2B;AACzB,WAAOf,WAAW,CAAC,eAAD,CAAX,CAA6Be,MAA7B,CAAP;AACD;;AAED,SAAO;AACLT,IAAAA,OAAO,EAAEA,OADJ;AAELO,IAAAA,QAAQ,EAAEA,QAFL;AAGLC,IAAAA,SAAS,EAAEA;AAHN,GAAP;AAKD;AAAA","sourcesContent":["import ArrayReader from '../../readers/ArrayReader';\nimport ValueReader from '../../readers/ValueReader';\nimport ObjectReader from '../../readers/ObjectReader';\n\nexport default function FamItemsOptionTask(optionsTask, defaultItemConfig) {\n  var _data = {},\n    _hash = {},\n    _sourceHash = {};\n\n  var _dataTemplate = new ObjectReader({\n    items: new ArrayReader(\n      new ObjectReader({\n        id: new ValueReader([\"string\", \"number\"], true),\n        parents: new ArrayReader(\n          new ValueReader([\"string\", \"number\"], true),\n          true\n        ),\n        isActive: new ValueReader([\"boolean\"], false, defaultItemConfig.isActive)\n      }),\n      true,\n      \"id\",\n      true\n    )\n  });\n\n  function process() {\n    var context = {\n      isChanged: false,\n      hash: _hash,\n      sourceHash: _sourceHash\n    };\n\n    _data = _dataTemplate.read(_data, optionsTask.getOptions(), \"options\", context);\n\n    return context.isChanged;\n  }\n\n  function getItems() {\n    return _data.items;\n  }\n\n  function getConfig(itemId) {\n    return _sourceHash[\"options-items\"][itemId];\n  }\n\n  return {\n    process: process,\n    getItems: getItems,\n    getConfig: getConfig\n  };\n};"]},"metadata":{},"sourceType":"module"}