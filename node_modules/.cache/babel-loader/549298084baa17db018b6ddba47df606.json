{"ast":null,"code":"export default function BaseTransformer(debug) {\n  this.debug = debug;\n}\n;\n\nBaseTransformer.prototype.validate = function (logicalFamily, strongValidate) {\n  /* test consistency of references in family tree */\n  if (!logicalFamily.validate()) {\n    throw \"Family structure failed to pass validation!\";\n  }\n\n  logicalFamily.loop(this, function (famItemId, famItem) {\n    logicalFamily.loopChildren(this, famItemId, function (childid, child, level) {\n      if (child.level === null || famItem.level === null || (strongValidate ? child.level != famItem.level + 1 : child.level <= famItem.level)) {\n        throw \"Family tree is broken. Children/Parents or levels mismatch!\";\n      }\n\n      return logicalFamily.SKIP;\n    });\n  });\n};","map":{"version":3,"sources":["/Users/01005901/go/src/github.com/Resily/react/node_modules/basicprimitives/src/tasks/transformations/familyTransformations/BaseTransformer.js"],"names":["BaseTransformer","debug","prototype","validate","logicalFamily","strongValidate","loop","famItemId","famItem","loopChildren","childid","child","level","SKIP"],"mappings":"AAAA,eAAe,SAASA,eAAT,CAAyBC,KAAzB,EAAgC;AAC7C,OAAKA,KAAL,GAAaA,KAAb;AACD;AAAA;;AAEDD,eAAe,CAACE,SAAhB,CAA0BC,QAA1B,GAAqC,UAAUC,aAAV,EAAyBC,cAAzB,EAAyC;AAC5E;AACA,MAAI,CAACD,aAAa,CAACD,QAAd,EAAL,EAA+B;AAC7B,UAAM,6CAAN;AACD;;AAEDC,EAAAA,aAAa,CAACE,IAAd,CAAmB,IAAnB,EAAyB,UAAUC,SAAV,EAAqBC,OAArB,EAA8B;AAErDJ,IAAAA,aAAa,CAACK,YAAd,CAA2B,IAA3B,EAAiCF,SAAjC,EAA4C,UAAUG,OAAV,EAAmBC,KAAnB,EAA0BC,KAA1B,EAAiC;AAC3E,UAAID,KAAK,CAACC,KAAN,KAAgB,IAAhB,IAAwBJ,OAAO,CAACI,KAAR,KAAkB,IAA1C,KAAmDP,cAAc,GAAGM,KAAK,CAACC,KAAN,IAAeJ,OAAO,CAACI,KAAR,GAAgB,CAAlC,GAAsCD,KAAK,CAACC,KAAN,IAAeJ,OAAO,CAACI,KAA9H,CAAJ,EAA0I;AACxI,cAAM,6DAAN;AACD;;AACD,aAAOR,aAAa,CAACS,IAArB;AACD,KALD;AAMD,GARD;AASD,CAfD","sourcesContent":["export default function BaseTransformer(debug) {\n  this.debug = debug;\n};\n\nBaseTransformer.prototype.validate = function (logicalFamily, strongValidate) {\n  /* test consistency of references in family tree */\n  if (!logicalFamily.validate()) {\n    throw \"Family structure failed to pass validation!\";\n  }\n\n  logicalFamily.loop(this, function (famItemId, famItem) {\n\n    logicalFamily.loopChildren(this, famItemId, function (childid, child, level) {\n      if (child.level === null || famItem.level === null || (strongValidate ? child.level != famItem.level + 1 : child.level <= famItem.level)) {\n        throw \"Family tree is broken. Children/Parents or levels mismatch!\";\n      }\n      return logicalFamily.SKIP;\n    });\n  });\n};\n"]},"metadata":{},"sourceType":"module"}