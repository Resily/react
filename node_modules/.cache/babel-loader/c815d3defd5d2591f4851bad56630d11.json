{"ast":null,"code":"import Point from './Point';\nimport { SegmentType } from '../../enums';\nexport default function QuadraticArcSegment(arg0, arg1, arg2, arg3) {\n  this.x = null;\n  this.y = null;\n  this.cpX = null;\n  this.cpY = null;\n\n  switch (arguments.length) {\n    case 2:\n      this.x = arg1.x;\n      this.y = arg1.y;\n      this.cpX = arg0.x;\n      this.cpY = arg0.y;\n      break;\n\n    case 4:\n      this.cpX = arg0;\n      this.cpY = arg1;\n      this.x = arg2;\n      this.y = arg3;\n      break;\n\n    default:\n      break;\n  }\n\n  this.segmentType = SegmentType.QuadraticArc;\n}\n;\n\nQuadraticArcSegment.prototype.clone = function () {\n  return new QuadraticArcSegment(this.cpX, this.cpY, this.x, this.y);\n};\n\nQuadraticArcSegment.prototype.loop = function (thisArg, onItem) {\n  if (onItem != null) {\n    onItem.call(thisArg, this.cpX, this.cpY, 0);\n    onItem.call(thisArg, this.x, this.y, 1);\n  }\n};\n\nQuadraticArcSegment.prototype.setPoint = function (point, index) {\n  switch (index) {\n    case 0:\n      this.cpX = point.x;\n      this.cpY = point.y;\n      break;\n\n    case 1:\n      this.x = point.x;\n      this.y = point.y;\n      break;\n  }\n};\n\nQuadraticArcSegment.prototype.getEndPoint = function () {\n  return this;\n};\n\nQuadraticArcSegment.prototype.invert = function (endPoint) {\n  this.x = endPoint.x;\n  this.y = endPoint.y;\n};\n\nQuadraticArcSegment.prototype.transform = function (transform, forward) {\n  var self = this;\n  transform.transformPoints(self.x, self.y, self.cpX, self.cpY, forward, self, function (x, y, cpX, cpY) {\n    self.x = x;\n    self.y = y;\n    self.cpX = cpX;\n    self.cpY = cpY;\n  }); //ignore jslint\n};\n\nQuadraticArcSegment.prototype.trim = function (prevEndPoint, offset) {\n  var time = 0.5,\n      endPoint = this.offsetPoint(this.x, this.y, this.cpX, this.cpY, prevEndPoint.x, prevEndPoint.y, time),\n      time2 = 0.1,\n      endPoint2 = this.offsetPoint(this.x, this.y, this.cpX, this.cpY, prevEndPoint.x, prevEndPoint.y, time2);\n  time = offset * (time / endPoint.distanceTo(this.x, this.y) + time2 / endPoint2.distanceTo(this.x, this.y)) / 2.0;\n  endPoint = this.offsetPoint(this.x, this.y, this.cpX, this.cpY, prevEndPoint.x, prevEndPoint.y, time);\n  this.x = endPoint.x;\n  this.y = endPoint.y;\n  return this;\n};\n\nQuadraticArcSegment.prototype.offsetPoint = function (firstX, firstY, controlX, controlY, secondX, secondY, time) {\n  return new Point((1 - time) * (1 - time) * firstX + 2 * (1 - time) * time * controlX + time * time * secondX, (1 - time) * (1 - time) * firstY + 2 * (1 - time) * time * controlY + time * time * secondY);\n};","map":{"version":3,"sources":["/Users/01005901/go/src/github.com/Resily/react/node_modules/basicprimitives/src/graphics/structs/QuadraticArcSegment.js"],"names":["Point","SegmentType","QuadraticArcSegment","arg0","arg1","arg2","arg3","x","y","cpX","cpY","arguments","length","segmentType","QuadraticArc","prototype","clone","loop","thisArg","onItem","call","setPoint","point","index","getEndPoint","invert","endPoint","transform","forward","self","transformPoints","trim","prevEndPoint","offset","time","offsetPoint","time2","endPoint2","distanceTo","firstX","firstY","controlX","controlY","secondX","secondY"],"mappings":"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","sourcesContent":["import Point from './Point';\nimport { SegmentType } from '../../enums';\n\nexport default function QuadraticArcSegment(arg0, arg1, arg2, arg3) {\n  this.x = null;\n  this.y = null;\n\n  this.cpX = null;\n  this.cpY = null;\n\n  switch (arguments.length) {\n    case 2:\n      this.x = arg1.x;\n      this.y = arg1.y;\n      this.cpX = arg0.x;\n      this.cpY = arg0.y;\n      break;\n    case 4:\n      this.cpX = arg0;\n      this.cpY = arg1;\n      this.x = arg2;\n      this.y = arg3;\n      break;\n    default:\n      break;\n  }\n\n  this.segmentType = SegmentType.QuadraticArc;\n};\n\nQuadraticArcSegment.prototype.clone = function () {\n  return new QuadraticArcSegment(this.cpX, this.cpY, this.x, this.y);\n};\n\nQuadraticArcSegment.prototype.loop = function (thisArg, onItem) {\n  if (onItem != null) {\n    onItem.call(thisArg, this.cpX, this.cpY, 0);\n    onItem.call(thisArg, this.x, this.y, 1);\n  }\n};\n\nQuadraticArcSegment.prototype.setPoint = function (point, index) {\n  switch (index) {\n    case 0:\n      this.cpX = point.x;\n      this.cpY = point.y;\n      break;\n    case 1:\n      this.x = point.x;\n      this.y = point.y;\n      break;\n  }\n};\n\nQuadraticArcSegment.prototype.getEndPoint = function () {\n  return this;\n};\n\nQuadraticArcSegment.prototype.invert = function (endPoint) {\n  this.x = endPoint.x;\n  this.y = endPoint.y;\n};\n\nQuadraticArcSegment.prototype.transform = function (transform, forward) {\n  var self = this;\n  transform.transformPoints(self.x, self.y, self.cpX, self.cpY, forward, self, function (x, y, cpX, cpY) {\n    self.x = x;\n    self.y = y;\n    self.cpX = cpX;\n    self.cpY = cpY;\n  });//ignore jslint\n};\n\nQuadraticArcSegment.prototype.trim = function (prevEndPoint, offset) {\n  var time = 0.5,\n    endPoint = this.offsetPoint(this.x, this.y, this.cpX, this.cpY, prevEndPoint.x, prevEndPoint.y, time),\n    time2 = 0.1,\n    endPoint2 = this.offsetPoint(this.x, this.y, this.cpX, this.cpY, prevEndPoint.x, prevEndPoint.y, time2);\n\n  time = offset * (time / endPoint.distanceTo(this.x, this.y) + time2 / endPoint2.distanceTo(this.x, this.y)) / 2.0;\n  endPoint = this.offsetPoint(this.x, this.y, this.cpX, this.cpY, prevEndPoint.x, prevEndPoint.y, time);\n\n  this.x = endPoint.x;\n  this.y = endPoint.y;\n\n  return this;\n};\n\nQuadraticArcSegment.prototype.offsetPoint = function (firstX, firstY, controlX, controlY, secondX, secondY, time) {\n  return new Point((1 - time) * (1 - time) * firstX + 2 * (1 - time) * time * controlX + time * time * secondX,\n    (1 - time) * (1 - time) * firstY + 2 * (1 - time) * time * controlY + time * time * secondY);\n};"]},"metadata":{},"sourceType":"module"}