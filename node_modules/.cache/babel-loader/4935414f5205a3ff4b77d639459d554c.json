{"ast":null,"code":"import _toConsumableArray from\"/Users/01005901/go/src/github.com/Resily/react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _objectSpread from\"/Users/01005901/go/src/github.com/Resily/react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _classCallCheck from\"/Users/01005901/go/src/github.com/Resily/react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/01005901/go/src/github.com/Resily/react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"/Users/01005901/go/src/github.com/Resily/react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"/Users/01005901/go/src/github.com/Resily/react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/01005901/go/src/github.com/Resily/react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component,Fragment}from'react';import{OrgDiagram}from'../Diagrams';import{PageFitMode,Enabled}from'basicprimitives';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var Sample=/*#__PURE__*/function(_Component){_inherits(Sample,_Component);var _super=_createSuper(Sample);function Sample(){var _this;_classCallCheck(this,Sample);_this=_super.call(this);_this.onSelectionChanged=_this.onSelectionChanged.bind(_assertThisInitialized(_this));_this.state={config:{pageFitMode:PageFitMode.FitToPage,cursorItem:1,hasSelectorCheckbox:Enabled.True,selectedItems:[1,3],items:[{id:1,parent:null,title:'James Smith',description:'VP, Public Sector',image:'/react/photos/a.png'},{id:2,parent:1,title:'Ted Lucas',description:'VP, Human Resources',image:'/react/photos/b.png'},{id:3,parent:1,title:'Fritz Stuger',description:'Business Solutions, US',image:'/react/photos/c.png'}]}};return _this;}_createClass(Sample,[{key:\"onSelectionChanged\",value:function onSelectionChanged(event,currentSelectedItems,newSelectedItems){var config=this.state.config;this.setState({config:_objectSpread(_objectSpread({},config),{},{selectedItems:newSelectedItems})});return true;// Cancel state change in Component and rendering cycle\n}},{key:\"update\",value:function update(event,itemid){var config=this.state.config;var selectedItems=config.selectedItems;var isChecked=event.target.checked;if(isChecked){this.setState({config:_objectSpread(_objectSpread({},config),{},{selectedItems:[].concat(_toConsumableArray(selectedItems),[itemid])})});}else{this.setState({config:_objectSpread(_objectSpread({},config),{},{selectedItems:selectedItems.filter(function(id){return id!=itemid;})})});}}},{key:\"render\",value:function render(){var _this2=this;var config=this.state.config;var items=config.items,selectedItems=config.selectedItems;var itemsHash=items.reduce(function(agg,item){agg[item.id]=item;return agg;},{});var message=selectedItems.map(function(id){return itemsHash[id].title;}).join(\", \");var selectedItemsHash=selectedItems.reduce(function(agg,id){agg[id]=true;return agg;},{});return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"p\",{children:[\"Select following items: \\xA0\",items.map(function(item){return/*#__PURE__*/_jsxs(Fragment,{children:[/*#__PURE__*/_jsx(\"input\",{onChange:function onChange(event){return _this2.update(event,item.id);},type:\"checkbox\",checked:selectedItemsHash[item.id]?'checked':''}),item.title,\"\\xA0\"]},item.id);})]}),/*#__PURE__*/_jsx(\"div\",{className:\"placeholder\",children:/*#__PURE__*/_jsx(OrgDiagram,{centerOnCursor:true,onSelectionChanged:this.onSelectionChanged,config:config})}),message.length>0?/*#__PURE__*/_jsxs(\"p\",{children:[\"User selected following items: \",message]}):null]});}}]);return Sample;}(Component);export default Sample;","map":{"version":3,"sources":["/Users/01005901/go/src/github.com/Resily/react/src/Samples/SelectedItems.js"],"names":["React","Component","Fragment","OrgDiagram","PageFitMode","Enabled","Sample","onSelectionChanged","bind","state","config","pageFitMode","FitToPage","cursorItem","hasSelectorCheckbox","True","selectedItems","items","id","parent","title","description","image","event","currentSelectedItems","newSelectedItems","setState","itemid","isChecked","target","checked","filter","itemsHash","reduce","agg","item","message","map","join","selectedItemsHash","update","length"],"mappings":"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","sourcesContent":["import React, { Component, Fragment } from 'react';\nimport { OrgDiagram } from '../Diagrams';\nimport { PageFitMode, Enabled } from 'basicprimitives';\n\nclass Sample extends Component {\n  constructor() {\n    super();\n\n    this.onSelectionChanged = this.onSelectionChanged.bind(this);\n\n    this.state = {\n      config: {\n        pageFitMode: PageFitMode.FitToPage,\n        cursorItem: 1,\n        hasSelectorCheckbox: Enabled.True,\n        selectedItems: [1, 3],\n        items: [\n          {\n            id: 1,\n            parent: null,\n            title: 'James Smith',\n            description: 'VP, Public Sector',\n            image: '/react/photos/a.png'\n          },\n          {\n            id: 2,\n            parent: 1,\n            title: 'Ted Lucas',\n            description: 'VP, Human Resources',\n            image: '/react/photos/b.png'\n          },\n          {\n            id: 3,\n            parent: 1,\n            title: 'Fritz Stuger',\n            description: 'Business Solutions, US',\n            image: '/react/photos/c.png'\n          }\n        ]\n      }\n    }\n  }\n\n  onSelectionChanged(event, currentSelectedItems, newSelectedItems) {\n    const { config } = this.state;\n    this.setState({\n      config: {\n        ...config,\n        selectedItems: newSelectedItems\n      }\n    })\n\n    return true; // Cancel state change in Component and rendering cycle\n  };\n\n  update(event, itemid) {\n    const { config } = this.state;\n    const { selectedItems } = config;\n    const isChecked = event.target.checked;\n    if (isChecked) {\n      this.setState({\n        config: {\n          ...config,\n          selectedItems: [...selectedItems, itemid]\n        }\n      })\n    } else {\n      this.setState({\n        config: {\n          ...config,\n          selectedItems: (selectedItems.filter(id => id != itemid))\n        }\n      })\n    }\n  }\n\n\n  render() {\n    const { config } = this.state;\n    const { items, selectedItems } = config;\n    const itemsHash = items.reduce((agg, item) => { agg[item.id] = item; return agg; }, {});\n    const message = selectedItems.map(id => itemsHash[id].title).join(\", \");\n    const selectedItemsHash = selectedItems.reduce((agg, id) => { agg[id] = true; return agg; }, {});\n\n    return <>\n      <p>Select following items: &nbsp;\n        {\n          items.map(item => <Fragment key={item.id}>\n            <input onChange={(event) => this.update(event, item.id)} type=\"checkbox\" checked={selectedItemsHash[item.id] ? 'checked' : ''} />\n            {item.title}\n            &nbsp;\n          </Fragment>\n          )\n        }\n      </p>\n      <div className=\"placeholder\">\n        <OrgDiagram centerOnCursor={true} onSelectionChanged={this.onSelectionChanged} config={config} />\n      </div>\n      {message.length > 0 ? <p>User selected following items: {message}</p> : null}\n    </>;\n  }\n}\n\nexport default Sample;\n"]},"metadata":{},"sourceType":"module"}